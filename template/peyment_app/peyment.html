{% extends 'main_template.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<main class="container h-screen lg:h-auto">
    <!-- Breadcrumb -->
    <nav class="flex mt-8" aria-label="Breadcrumb">
        <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
            <li class="inline-flex items-center">
                <a href="/"
                    class="inline-flex items-center text-sm gap-x-1 text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
                    <svg class="w-4 h-4 mb-0.5">
                        <use href="#home" />
                    </svg>
                    صفحه اصلی
                </a>
            </li>
            <li>
                <div class="flex items-center">
                    <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 9 4-4-4-4" />
                    </svg>
                    <a href="/order/cart/"
                        class="ms-1 text-sm text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white">
                        سبد خرید
                    </a>
                </div>
            </li>
            <li aria-current="page">
                <div class="flex items-center">
                    <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 9 4-4-4-4" />
                    </svg>
                    <span class="ms-1 text-sm text-gray-500 md:ms-2 dark:text-gray-400">پرداخت موفق</span>
                </div>
            </li>
        </ol>
    </nav>

    <!-- successful payment -->
    <section class="w-full flex items-center justify-center mt-10">
        <div class="relative w-96 bg-white dark:bg-gray-800 rounded-xl shadow pt-12 pb-4 px-4 flex flex-col justify-between items-center gap-y-4 text-gray-700 dark:text-gray-200">
            <span class="absolute -top-7">
                <svg class="w-14 h-14 text-green-500">
                    <use href="#check-circle" />
                </svg>
            </span>
            <h2 class="text-green-500 text-xl font-DanaMedium text-center">پرداخت با موفقیت انجام شد</h2>
            <span>جزئیات تراکنش :</span>
            <span class="w-full border-b-2 border-gray-200 dark:border-gray-600"></span>
            <ul class="w-full flex flex-col gap-y-5 child:flex child:items-center child:justify-between">
                <li>
                    <span class="">درگاه پرداختی :</span>
                    <span class="text-gray-400">زرین پال</span>
                </li>
                <li>
                    <span class="">تاریخ تراکنش :</span>
                    <span class="text-gray-400">{% now "Y/m/d" %}</span>
                </li>
                <li>
                    <span class="">کد پیگیری :</span>
                    <span class="text-gray-400 font-medium">
                        {{ ref_id|default:"-" }}
                    </span>
                </li>
                <li>
                    <span class="">وضعیت :</span>
                    <span class="text-green-500">پرداخت موفق</span>
                </li>
            </ul>
            <div class="w-full mt-4 flex items-center justify-center gap-x-2">
                <a href="/" class="w-1/3 py-2 flex items-center justify-center rounded-lg bg-blue-500 text-gray-50 hover:bg-blue-600 transition-all">
                    بازگشت
                </a>
                <a href="/dashboard/orders/" class="w-1/3 py-2 flex items-center justify-center rounded-lg bg-gray-200 text-gray-600 hover:bg-gray-400 dark:bg-gray-700 dark:text-gray-100 transition-all">
                    پیگیری
                </a>
            </div>
        </div>
    </section>
</main>

<script>
function copyRefId() {
    const refId = "{{ ref_id|default:'' }}";
    if (refId && refId !== "-") {
        navigator.clipboard.writeText(refId).then(function() {
            alert('کد پیگیری کپی شد!');
        }, function(err) {
            console.error('خطا در کپی: ', err);
        });
    }
}
</script>
{% endblock %}